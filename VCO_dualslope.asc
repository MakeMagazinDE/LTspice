Version 4
SHEET 1 1024 680
WIRE -816 -80 -864 -80
WIRE 144 -48 112 -48
WIRE -656 0 -704 0
WIRE -384 0 -576 0
WIRE -336 0 -384 0
WIRE -208 0 -256 0
WIRE -160 0 -208 0
WIRE 16 48 -16 48
WIRE 112 48 112 -48
WIRE 112 48 80 48
WIRE 304 48 240 48
WIRE 448 48 384 48
WIRE 48 112 -272 112
WIRE 336 112 48 112
WIRE 560 112 336 112
WIRE -272 128 -272 112
WIRE 336 128 336 112
WIRE 560 128 560 112
WIRE -384 144 -384 0
WIRE -304 144 -384 144
WIRE 48 144 48 112
WIRE 112 144 112 48
WIRE 304 144 112 144
WIRE -208 160 -208 0
WIRE -208 160 -240 160
WIRE -128 160 -208 160
WIRE -16 160 -16 48
WIRE -16 160 -48 160
WIRE 16 160 -16 160
WIRE 448 160 448 48
WIRE 448 160 368 160
WIRE -864 176 -864 -80
WIRE -704 176 -704 0
WIRE -704 176 -864 176
WIRE -656 176 -704 176
WIRE -528 176 -576 176
WIRE -464 176 -528 176
WIRE -304 176 -464 176
WIRE 112 176 112 144
WIRE 112 176 80 176
WIRE 240 176 240 48
WIRE 304 176 240 176
WIRE 16 192 -16 192
WIRE 240 192 240 176
WIRE -864 208 -864 176
WIRE 560 240 560 208
WIRE 656 240 560 240
WIRE -528 256 -528 176
WIRE -384 256 -384 144
WIRE -16 256 -16 192
WIRE 656 256 656 240
WIRE 560 272 560 240
WIRE -864 320 -864 288
WIRE -528 368 -528 336
WIRE -384 368 -384 336
WIRE -272 368 -272 192
WIRE 48 368 48 208
WIRE 48 368 -272 368
WIRE 336 368 336 192
WIRE 336 368 48 368
WIRE 560 368 560 352
WIRE 560 368 336 368
WIRE -464 416 -464 176
WIRE 64 416 0 416
WIRE 240 416 240 320
WIRE 240 416 64 416
WIRE 240 448 240 416
WIRE 0 480 0 416
WIRE 64 480 64 416
WIRE -512 496 -576 496
WIRE -464 544 -464 512
WIRE -576 592 -576 496
WIRE 0 592 0 560
WIRE 0 592 -576 592
WIRE 64 592 64 544
WIRE 64 592 0 592
WIRE 128 592 64 592
WIRE 352 592 208 592
WIRE 448 592 448 160
WIRE 448 592 352 592
WIRE 0 0 0 0
FLAG 656 256 0
FLAG -16 256 0
FLAG -864 320 0
FLAG -384 368 0
FLAG -528 368 0
FLAG -816 -80 Vinp
IOPIN -816 -80 Out
FLAG -160 0 Vop1
IOPIN -160 0 Out
FLAG 240 448 0
FLAG -464 544 0
FLAG -528 176 Vsw
FLAG 352 592 Vschmitt
FLAG 144 -48 Vintegr
IOPIN 144 -48 Out
SYMBOL res 400 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL cap 80 32 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 22n
SYMBOL voltage 560 256 R0
WINDOW 3 49 50 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 49 76 Left 2
SYMATTR Value 12
SYMATTR SpiceLine Rser=0
SYMATTR InstName V1
SYMBOL voltage 560 112 R0
WINDOW 3 57 44 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 57 68 Left 2
SYMATTR Value 12
SYMATTR SpiceLine Rser=0
SYMATTR InstName V2
SYMBOL res -560 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL voltage -864 192 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=0
SYMATTR InstName V3
SYMATTR Value PULSE(0 10 0 100m 0 1 1 1)
SYMBOL res -32 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 22k
SYMBOL res -240 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 20k
SYMBOL res -368 352 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL res 224 576 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 10k
SYMBOL res -560 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 20k
SYMBOL res -512 352 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R9
SYMATTR Value 10k
SYMBOL nmos -512 416 R0
SYMATTR InstName M1
SYMATTR Value 2N7002
SYMBOL diode 48 480 R0
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL res 16 576 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL Opamps\\AD8040 336 96 R0
SYMATTR InstName U1
SYMBOL Opamps\\AD8040 48 112 R0
SYMATTR InstName U2
SYMBOL Opamps\\AD8040 -272 96 R0
SYMATTR InstName U3
SYMBOL zener 256 256 R180
WINDOW 0 -40 34 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value UDZV6_8B
SYMBOL zener 224 256 R0
WINDOW 0 42 33 Left 2
WINDOW 3 -107 67 Left 2
SYMATTR InstName D2
SYMATTR Value UDZV6_8B
TEXT -896 360 Left 2 !.tran 100m
